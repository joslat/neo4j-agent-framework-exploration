{"Timestamp":"2025-12-20T10:30:02.629803+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:02.7785261+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:02.7930141+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:02.8064839+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:02.8190991+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:02.8331023+00:00","Query":"\r\nMATCH (c:Company {ticker: \u0027VOLT\u0027})\r\nRETURN count(c) AS cnt\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:03.1982298+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[a:AFFECTS]-\u003E(c0:Company)\r\nWITH n, c0, coalesce(a.directImpact, 1.0) AS directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n  reduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight * coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n  ) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n  (case when sentiment \u003C 0 then -sentiment else 0 end) * directImpact * pathWeight AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T10:30:03.2357134+00:00","Query":"\r\nMATCH (n) WITH count(n) AS nodes\r\nMATCH ()-[r]-\u003E() WITH nodes, count(r) AS rels\r\nRETURN nodes, rels\r\n","Parameters":{},"Status":"start","Error":null}
