{"Timestamp":"2025-12-18T21:17:36.973963+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:37.1454907+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:37.2018176+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:37.2512205+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:37.3016184+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:37.3535099+00:00","Query":"\r\nMERGE (us:Country {code:\u0027US\u0027, name:\u0027United States\u0027})\r\nMERGE (de:Country {code:\u0027DE\u0027, name:\u0027Germany\u0027})\r\nMERGE (jp:Country {code:\u0027JP\u0027, name:\u0027Japan\u0027})\r\nMERGE (cn:Country {code:\u0027CN\u0027, name:\u0027China\u0027})\r\nMERGE (gb:Country {code:\u0027GB\u0027, name:\u0027United Kingdom\u0027})\r\n\r\nMERGE (nyse:Market {code:\u0027NYSE\u0027, name:\u0027New York Stock Exchange\u0027})\r\nMERGE (nasdaq:Market {code:\u0027NASDAQ\u0027, name:\u0027NASDAQ\u0027})\r\nMERGE (xetra:Market {code:\u0027XETRA\u0027, name:\u0027Deutsche B\u00F6rse Xetra\u0027})\r\nMERGE (tse:Market {code:\u0027TSE\u0027, name:\u0027Tokyo Stock Exchange\u0027})\r\n\r\nMERGE (tech:Sector {name:\u0027Technology\u0027})\r\nMERGE (auto:Sector {name:\u0027Automotive\u0027})\r\nMERGE (energy:Sector {name:\u0027Energy\u0027})\r\nMERGE (finance:Sector {name:\u0027Financials\u0027})\r\n\r\nMERGE (acme:Company {ticker:\u0027ACME\u0027, name:\u0027Acme Holdings\u0027})\r\n  SET acme.riskProfile=\u0027conglomerate\u0027\r\nMERGE (volt:Company {ticker:\u0027VOLT\u0027, name:\u0027Volt Mobility\u0027})\r\n  SET volt.riskProfile=\u0027supply-chain-sensitive\u0027\r\nMERGE (sun:Company {ticker:\u0027SUNP\u0027, name:\u0027SunPeak Energy\u0027})\r\n  SET sun.riskProfile=\u0027commodity-exposed\u0027\r\nMERGE (finx:Company {ticker:\u0027FINX\u0027, name:\u0027FinX Capital\u0027})\r\n  SET finx.riskProfile=\u0027credit-sensitive\u0027\r\nMERGE (micro:Company {ticker:\u0027MICR\u0027, name:\u0027MicroCore Semiconductors\u0027})\r\n  SET micro.riskProfile=\u0027geopolitical-exposed\u0027\r\nMERGE (ship:Company {ticker:\u0027SHIP\u0027, name:\u0027ShipRight Logistics\u0027})\r\n  SET ship.riskProfile=\u0027trade-sensitive\u0027\r\n\r\nMERGE (acme)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (volt)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (sun)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (finx)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (micro)-[:LISTED_ON]-\u003E(tse)\r\nMERGE (ship)-[:LISTED_ON]-\u003E(xetra)\r\n\r\nMERGE (acme)-[:HQ_IN]-\u003E(us)\r\nMERGE (volt)-[:HQ_IN]-\u003E(us)\r\nMERGE (sun)-[:HQ_IN]-\u003E(gb)\r\nMERGE (finx)-[:HQ_IN]-\u003E(us)\r\nMERGE (micro)-[:HQ_IN]-\u003E(jp)\r\nMERGE (ship)-[:HQ_IN]-\u003E(de)\r\n\r\nMERGE (acme)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (volt)-[:IN_SECTOR]-\u003E(auto)\r\nMERGE (sun)-[:IN_SECTOR]-\u003E(energy)\r\nMERGE (finx)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (micro)-[:IN_SECTOR]-\u003E(tech)\r\nMERGE (ship)-[:IN_SECTOR]-\u003E(finance)\r\n\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(de)\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (micro)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(gb)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(us)\r\nMERGE (sun)-[:OPERATES_IN]-\u003E(us)\r\n\r\nMERGE (acme)-[:OWNS {pct:35.0}]-\u003E(volt)\r\nMERGE (acme)-[:OWNS {pct:12.0}]-\u003E(sun)\r\nMERGE (finx)-[:OWNS {pct:18.0}]-\u003E(acme)\r\n\r\nMERGE (micro)-[:SUPPLIES_TO {criticality:0.8}]-\u003E(volt)\r\nMERGE (ship)-[:SUPPLIES_TO {criticality:0.6}]-\u003E(micro)\r\nMERGE (sun)-[:PARTNERS_WITH {strength:0.4}]-\u003E(acme)\r\nMERGE (finx)-[:PARTNERS_WITH {strength:0.5}]-\u003E(ship)\r\n\r\nMERGE (n1:NewsEvent {id:\u0027N-2025-12-18-001\u0027})\r\n  SET n1.headline=\u0027Regulatory probe into Volt Mobility battery supply chain\u0027,\r\n\t  n1.sentiment=-0.75,\r\n\t  n1.ts=datetime(\u00272025-12-18T09:00:00Z\u0027)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.9}]-\u003E(volt)\r\n\r\nMERGE (n2:NewsEvent {id:\u0027N-2025-12-18-002\u0027})\r\n  SET n2.headline=\u0027SunPeak Energy announces expanded UK offshore capacity\u0027,\r\n\t  n2.sentiment=0.35,\r\n\t  n2.ts=datetime(\u00272025-12-18T12:00:00Z\u0027)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.5}]-\u003E(sun)\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:39.3317698+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[:AFFECTS {directImpact: directImpact}]-\u003E(c0:Company)\r\nWITH n, c0, directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-\u003E(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n  reduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight * coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n  ) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n  (case when sentiment \u003C 0 then -sentiment else 0 end) * directImpact * pathWeight AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T21:17:39.3317698+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[:AFFECTS {directImpact: directImpact}]-\u003E(c0:Company)\r\nWITH n, c0, directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-\u003E(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n  reduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight * coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n  ) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n  (case when sentiment \u003C 0 then -sentiment else 0 end) * directImpact * pathWeight AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"error","Error":"Variable \u0060directImpact\u0060 not defined (line 2, column 60 (offset: 61))\n\u0022MATCH (n:NewsEvent {id: $newsId})-[:AFFECTS {directImpact: directImpact}]-\u003E(c0:Company)\u0022\n                                                            ^"}
{"Timestamp":"2025-12-18T22:38:10.7028663+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:10.8311111+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:10.8472539+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:10.8625531+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:10.8778115+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:10.8930601+00:00","Query":"\r\nMERGE (us:Country {code:\u0027US\u0027, name:\u0027United States\u0027})\r\nMERGE (de:Country {code:\u0027DE\u0027, name:\u0027Germany\u0027})\r\nMERGE (jp:Country {code:\u0027JP\u0027, name:\u0027Japan\u0027})\r\nMERGE (cn:Country {code:\u0027CN\u0027, name:\u0027China\u0027})\r\nMERGE (gb:Country {code:\u0027GB\u0027, name:\u0027United Kingdom\u0027})\r\n\r\nMERGE (nyse:Market {code:\u0027NYSE\u0027, name:\u0027New York Stock Exchange\u0027})\r\nMERGE (nasdaq:Market {code:\u0027NASDAQ\u0027, name:\u0027NASDAQ\u0027})\r\nMERGE (xetra:Market {code:\u0027XETRA\u0027, name:\u0027Deutsche B\u00F6rse Xetra\u0027})\r\nMERGE (tse:Market {code:\u0027TSE\u0027, name:\u0027Tokyo Stock Exchange\u0027})\r\n\r\nMERGE (tech:Sector {name:\u0027Technology\u0027})\r\nMERGE (auto:Sector {name:\u0027Automotive\u0027})\r\nMERGE (energy:Sector {name:\u0027Energy\u0027})\r\nMERGE (finance:Sector {name:\u0027Financials\u0027})\r\n\r\nMERGE (acme:Company {ticker:\u0027ACME\u0027, name:\u0027Acme Holdings\u0027})\r\n  SET acme.riskProfile=\u0027conglomerate\u0027\r\nMERGE (volt:Company {ticker:\u0027VOLT\u0027, name:\u0027Volt Mobility\u0027})\r\n  SET volt.riskProfile=\u0027supply-chain-sensitive\u0027\r\nMERGE (sun:Company {ticker:\u0027SUNP\u0027, name:\u0027SunPeak Energy\u0027})\r\n  SET sun.riskProfile=\u0027commodity-exposed\u0027\r\nMERGE (finx:Company {ticker:\u0027FINX\u0027, name:\u0027FinX Capital\u0027})\r\n  SET finx.riskProfile=\u0027credit-sensitive\u0027\r\nMERGE (micro:Company {ticker:\u0027MICR\u0027, name:\u0027MicroCore Semiconductors\u0027})\r\n  SET micro.riskProfile=\u0027geopolitical-exposed\u0027\r\nMERGE (ship:Company {ticker:\u0027SHIP\u0027, name:\u0027ShipRight Logistics\u0027})\r\n  SET ship.riskProfile=\u0027trade-sensitive\u0027\r\n\r\nMERGE (acme)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (volt)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (sun)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (finx)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (micro)-[:LISTED_ON]-\u003E(tse)\r\nMERGE (ship)-[:LISTED_ON]-\u003E(xetra)\r\n\r\nMERGE (acme)-[:HQ_IN]-\u003E(us)\r\nMERGE (volt)-[:HQ_IN]-\u003E(us)\r\nMERGE (sun)-[:HQ_IN]-\u003E(gb)\r\nMERGE (finx)-[:HQ_IN]-\u003E(us)\r\nMERGE (micro)-[:HQ_IN]-\u003E(jp)\r\nMERGE (ship)-[:HQ_IN]-\u003E(de)\r\n\r\nMERGE (acme)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (volt)-[:IN_SECTOR]-\u003E(auto)\r\nMERGE (sun)-[:IN_SECTOR]-\u003E(energy)\r\nMERGE (finx)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (micro)-[:IN_SECTOR]-\u003E(tech)\r\nMERGE (ship)-[:IN_SECTOR]-\u003E(finance)\r\n\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(de)\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (micro)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(gb)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(us)\r\nMERGE (sun)-[:OPERATES_IN]-\u003E(us)\r\n\r\nMERGE (acme)-[:OWNS {pct:35.0}]-\u003E(volt)\r\nMERGE (acme)-[:OWNS {pct:12.0}]-\u003E(sun)\r\nMERGE (finx)-[:OWNS {pct:18.0}]-\u003E(acme)\r\n\r\nMERGE (micro)-[:SUPPLIES_TO {criticality:0.8}]-\u003E(volt)\r\nMERGE (ship)-[:SUPPLIES_TO {criticality:0.6}]-\u003E(micro)\r\nMERGE (sun)-[:PARTNERS_WITH {strength:0.4}]-\u003E(acme)\r\nMERGE (finx)-[:PARTNERS_WITH {strength:0.5}]-\u003E(ship)\r\n\r\nMERGE (n1:NewsEvent {id:\u0027N-2025-12-18-001\u0027})\r\n  SET n1.headline=\u0027Regulatory probe into Volt Mobility battery supply chain\u0027,\r\n\t  n1.sentiment=-0.75,\r\n\t  n1.ts=datetime(\u00272025-12-18T09:00:00Z\u0027)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.9}]-\u003E(volt)\r\n\r\nMERGE (n2:NewsEvent {id:\u0027N-2025-12-18-002\u0027})\r\n  SET n2.headline=\u0027SunPeak Energy announces expanded UK offshore capacity\u0027,\r\n\t  n2.sentiment=0.35,\r\n\t  n2.ts=datetime(\u00272025-12-18T12:00:00Z\u0027)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.5}]-\u003E(sun)\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:11.5248021+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[a:AFFECTS]-\u003E(c0:Company)\r\nWITH n, c0, coalesce(a.directImpact, 1.0) AS directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-\u003E(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n  reduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight * coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n  ) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n  (case when sentiment \u003C 0 then -sentiment else 0 end) * directImpact * pathWeight AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:12.0527112+00:00","Query":"\r\nMATCH (n) WITH count(n) AS nodes\r\nMATCH ()-[r]-\u003E() WITH nodes, count(r) AS rels\r\nRETURN nodes, rels\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.483055+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.5557965+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.5697228+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.5829146+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.5957965+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.6083737+00:00","Query":"\r\nMERGE (us:Country {code:\u0027US\u0027, name:\u0027United States\u0027})\r\nMERGE (de:Country {code:\u0027DE\u0027, name:\u0027Germany\u0027})\r\nMERGE (jp:Country {code:\u0027JP\u0027, name:\u0027Japan\u0027})\r\nMERGE (cn:Country {code:\u0027CN\u0027, name:\u0027China\u0027})\r\nMERGE (gb:Country {code:\u0027GB\u0027, name:\u0027United Kingdom\u0027})\r\n\r\nMERGE (nyse:Market {code:\u0027NYSE\u0027, name:\u0027New York Stock Exchange\u0027})\r\nMERGE (nasdaq:Market {code:\u0027NASDAQ\u0027, name:\u0027NASDAQ\u0027})\r\nMERGE (xetra:Market {code:\u0027XETRA\u0027, name:\u0027Deutsche B\u00F6rse Xetra\u0027})\r\nMERGE (tse:Market {code:\u0027TSE\u0027, name:\u0027Tokyo Stock Exchange\u0027})\r\n\r\nMERGE (tech:Sector {name:\u0027Technology\u0027})\r\nMERGE (auto:Sector {name:\u0027Automotive\u0027})\r\nMERGE (energy:Sector {name:\u0027Energy\u0027})\r\nMERGE (finance:Sector {name:\u0027Financials\u0027})\r\n\r\nMERGE (acme:Company {ticker:\u0027ACME\u0027, name:\u0027Acme Holdings\u0027})\r\n  SET acme.riskProfile=\u0027conglomerate\u0027\r\nMERGE (volt:Company {ticker:\u0027VOLT\u0027, name:\u0027Volt Mobility\u0027})\r\n  SET volt.riskProfile=\u0027supply-chain-sensitive\u0027\r\nMERGE (sun:Company {ticker:\u0027SUNP\u0027, name:\u0027SunPeak Energy\u0027})\r\n  SET sun.riskProfile=\u0027commodity-exposed\u0027\r\nMERGE (finx:Company {ticker:\u0027FINX\u0027, name:\u0027FinX Capital\u0027})\r\n  SET finx.riskProfile=\u0027credit-sensitive\u0027\r\nMERGE (micro:Company {ticker:\u0027MICR\u0027, name:\u0027MicroCore Semiconductors\u0027})\r\n  SET micro.riskProfile=\u0027geopolitical-exposed\u0027\r\nMERGE (ship:Company {ticker:\u0027SHIP\u0027, name:\u0027ShipRight Logistics\u0027})\r\n  SET ship.riskProfile=\u0027trade-sensitive\u0027\r\n\r\nMERGE (acme)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (volt)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (sun)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (finx)-[:LISTED_ON]-\u003E(nyse)\r\nMERGE (micro)-[:LISTED_ON]-\u003E(tse)\r\nMERGE (ship)-[:LISTED_ON]-\u003E(xetra)\r\n\r\nMERGE (acme)-[:HQ_IN]-\u003E(us)\r\nMERGE (volt)-[:HQ_IN]-\u003E(us)\r\nMERGE (sun)-[:HQ_IN]-\u003E(gb)\r\nMERGE (finx)-[:HQ_IN]-\u003E(us)\r\nMERGE (micro)-[:HQ_IN]-\u003E(jp)\r\nMERGE (ship)-[:HQ_IN]-\u003E(de)\r\n\r\nMERGE (acme)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (volt)-[:IN_SECTOR]-\u003E(auto)\r\nMERGE (sun)-[:IN_SECTOR]-\u003E(energy)\r\nMERGE (finx)-[:IN_SECTOR]-\u003E(finance)\r\nMERGE (micro)-[:IN_SECTOR]-\u003E(tech)\r\nMERGE (ship)-[:IN_SECTOR]-\u003E(finance)\r\n\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(de)\r\nMERGE (volt)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (micro)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(gb)\r\nMERGE (ship)-[:OPERATES_IN]-\u003E(us)\r\nMERGE (sun)-[:OPERATES_IN]-\u003E(us)\r\n\r\nMERGE (acme)-[:OWNS {pct:35.0}]-\u003E(volt)\r\nMERGE (acme)-[:OWNS {pct:12.0}]-\u003E(sun)\r\nMERGE (finx)-[:OWNS {pct:18.0}]-\u003E(acme)\r\n\r\nMERGE (micro)-[:SUPPLIES_TO {criticality:0.8}]-\u003E(volt)\r\nMERGE (ship)-[:SUPPLIES_TO {criticality:0.6}]-\u003E(micro)\r\nMERGE (sun)-[:PARTNERS_WITH {strength:0.4}]-\u003E(acme)\r\nMERGE (finx)-[:PARTNERS_WITH {strength:0.5}]-\u003E(ship)\r\n\r\nMERGE (n1:NewsEvent {id:\u0027N-2025-12-18-001\u0027})\r\n  SET n1.headline=\u0027Regulatory probe into Volt Mobility battery supply chain\u0027,\r\n\t  n1.sentiment=-0.75,\r\n\t  n1.ts=datetime(\u00272025-12-18T09:00:00Z\u0027)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.9}]-\u003E(volt)\r\n\r\nMERGE (n2:NewsEvent {id:\u0027N-2025-12-18-002\u0027})\r\n  SET n2.headline=\u0027SunPeak Energy announces expanded UK offshore capacity\u0027,\r\n\t  n2.sentiment=0.35,\r\n\t  n2.ts=datetime(\u00272025-12-18T12:00:00Z\u0027)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.5}]-\u003E(sun)\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.6326225+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[a:AFFECTS]-\u003E(c0:Company)\r\nWITH n, c0, coalesce(a.directImpact, 1.0) AS directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n  reduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight * coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n  ) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n  (case when sentiment \u003C 0 then -sentiment else 0 end) * directImpact * pathWeight AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"start","Error":null}
{"Timestamp":"2025-12-18T22:38:30.7889132+00:00","Query":"\r\nMATCH (n) WITH count(n) AS nodes\r\nMATCH ()-[r]-\u003E() WITH nodes, count(r) AS rels\r\nRETURN nodes, rels\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.0743197+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.7115957+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.7862428+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.8482232+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.9136591+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:50.9806715+00:00","Query":"\r\nMATCH (c:Company {ticker: \u0027NVDA\u0027})\r\nRETURN count(c) AS cnt\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:51.4406004+00:00","Query":"MERGE (us:Country {code:\u0027US\u0027, name:\u0027United States\u0027})\r\nMERGE (tw:Country {code:\u0027TW\u0027, name:\u0027Taiwan\u0027})\r\nMERGE (nl:Country {code:\u0027NL\u0027, name:\u0027Netherlands\u0027})\r\nMERGE (kr:Country {code:\u0027KR\u0027, name:\u0027South Korea\u0027})\r\nMERGE (cn:Country {code:\u0027CN\u0027, name:\u0027China\u0027})\r\n\r\nMERGE (nasdaq:Market {code:\u0027NASDAQ\u0027, name:\u0027NASDAQ\u0027})\r\nMERGE (nyse:Market {code:\u0027NYSE\u0027, name:\u0027New York Stock Exchange\u0027})\r\n\r\nMERGE (cloud:Sector {name:\u0027Cloud\u0027})\r\nMERGE (ai:Sector {name:\u0027AI\u0027})\r\nMERGE (semis:Sector {name:\u0027Semiconductors\u0027})\r\nMERGE (tools:Sector {name:\u0027Developer Tools\u0027})\r\nMERGE (internet:Sector {name:\u0027Internet Platforms\u0027})\r\nMERGE (hardware:Sector {name:\u0027Hardware\u0027})\r\n\r\nMERGE (msft:Company {ticker:\u0027MSFT\u0027, name:\u0027Microsoft\u0027})\r\n  SET msft.riskProfile=\u0027cloud-platform\u0027\r\nMERGE (openai:Company {ticker:\u0027OPENAI\u0027, name:\u0027OpenAI\u0027})\r\n  SET openai.riskProfile=\u0027model-provider\u0027\r\nMERGE (nvda:Company {ticker:\u0027NVDA\u0027, name:\u0027NVIDIA\u0027})\r\n  SET nvda.riskProfile=\u0027compute-supply\u0027\r\nMERGE (tsmc:Company {ticker:\u0027TSMC\u0027, name:\u0027TSMC\u0027})\r\n  SET tsmc.riskProfile=\u0027foundry\u0027\r\nMERGE (asml:Company {ticker:\u0027ASML\u0027, name:\u0027ASML\u0027})\r\n  SET asml.riskProfile=\u0027fab-equipment\u0027\r\nMERGE (amd:Company {ticker:\u0027AMD\u0027, name:\u0027AMD\u0027})\r\n  SET amd.riskProfile=\u0027compute-competitor\u0027\r\nMERGE (intc:Company {ticker:\u0027INTC\u0027, name:\u0027Intel\u0027})\r\n  SET intc.riskProfile=\u0027compute-competitor\u0027\r\nMERGE (github:Company {ticker:\u0027GITHUB\u0027, name:\u0027GitHub\u0027})\r\n  SET github.riskProfile=\u0027developer-platform\u0027\r\n\r\nMERGE (amzn:Company {ticker:\u0027AMZN\u0027, name:\u0027Amazon\u0027})\r\n  SET amzn.riskProfile=\u0027cloud-platform\u0027\r\nMERGE (aws:Company {ticker:\u0027AWS\u0027, name:\u0027Amazon Web Services\u0027})\r\n  SET aws.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (googl:Company {ticker:\u0027GOOGL\u0027, name:\u0027Alphabet\u0027})\r\n  SET googl.riskProfile=\u0027internet-platform\u0027\r\nMERGE (gcp:Company {ticker:\u0027GCP\u0027, name:\u0027Google Cloud\u0027})\r\n  SET gcp.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (meta:Company {ticker:\u0027META\u0027, name:\u0027Meta\u0027})\r\n  SET meta.riskProfile=\u0027internet-platform\u0027\r\nMERGE (aapl:Company {ticker:\u0027AAPL\u0027, name:\u0027Apple\u0027})\r\n  SET aapl.riskProfile=\u0027device-platform\u0027\r\n\r\nMERGE (tsla:Company {ticker:\u0027TSLA\u0027, name:\u0027Tesla\u0027})\r\n  SET tsla.riskProfile=\u0027ai-enabled-hardware\u0027\r\nMERGE (x:Company {ticker:\u0027X\u0027, name:\u0027X\u0027})\r\n  SET x.riskProfile=\u0027internet-platform\u0027\r\nMERGE (xai:Company {ticker:\u0027XAI\u0027, name:\u0027xAI\u0027})\r\n  SET xai.riskProfile=\u0027model-provider\u0027\r\n\r\nMERGE (anthropic:Company {ticker:\u0027ANTHROPIC\u0027, name:\u0027Anthropic\u0027})\r\n  SET anthropic.riskProfile=\u0027model-provider\u0027\r\nMERGE (pplx:Company {ticker:\u0027PPLX\u0027, name:\u0027Perplexity\u0027})\r\n  SET pplx.riskProfile=\u0027ai-product\u0027\r\nMERGE (cohere:Company {ticker:\u0027COHERE\u0027, name:\u0027Cohere\u0027})\r\n  SET cohere.riskProfile=\u0027model-provider\u0027\r\nMERGE (mistral:Company {ticker:\u0027MISTRAL\u0027, name:\u0027Mistral AI\u0027})\r\n  SET mistral.riskProfile=\u0027model-provider\u0027\r\n\r\nMERGE (mu:Company {ticker:\u0027MU\u0027, name:\u0027Micron Technology\u0027})\r\n  SET mu.riskProfile=\u0027memory-supply\u0027\r\nMERGE (avgo:Company {ticker:\u0027AVGO\u0027, name:\u0027Broadcom\u0027})\r\n  SET avgo.riskProfile=\u0027networking-supply\u0027\r\nMERGE (qcom:Company {ticker:\u0027QCOM\u0027, name:\u0027Qualcomm\u0027})\r\n  SET qcom.riskProfile=\u0027edge-ai\u0027\r\nMERGE (arm:Company {ticker:\u0027ARM\u0027, name:\u0027Arm\u0027})\r\n  SET arm.riskProfile=\u0027cpu-ip\u0027\r\nMERGE (smsn:Company {ticker:\u0027SMSN\u0027, name:\u0027Samsung Electronics\u0027})\r\n  SET smsn.riskProfile=\u0027memory-supply\u0027\r\nMERGE (skh:Company {ticker:\u0027SKH\u0027, name:\u0027SK hynix\u0027})\r\n  SET skh.riskProfile=\u0027memory-supply\u0027\r\nMERGE (orcl:Company {ticker:\u0027ORCL\u0027, name:\u0027Oracle\u0027})\r\n  SET orcl.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (msft)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (nvda)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (amd)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (intc)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (asml)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (tsmc)-[:LISTED_ON]-\u003E(nyse)\r\n\r\nMERGE (amzn)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (googl)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (meta)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (aapl)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (tsla)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (mu)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (avgo)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (qcom)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (arm)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (orcl)-[:LISTED_ON]-\u003E(nyse)\r\n\r\nMERGE (msft)-[:HQ_IN]-\u003E(us)\r\nMERGE (openai)-[:HQ_IN]-\u003E(us)\r\nMERGE (nvda)-[:HQ_IN]-\u003E(us)\r\nMERGE (amd)-[:HQ_IN]-\u003E(us)\r\nMERGE (intc)-[:HQ_IN]-\u003E(us)\r\nMERGE (github)-[:HQ_IN]-\u003E(us)\r\nMERGE (tsmc)-[:HQ_IN]-\u003E(tw)\r\nMERGE (asml)-[:HQ_IN]-\u003E(nl)\r\n\r\nMERGE (amzn)-[:HQ_IN]-\u003E(us)\r\nMERGE (aws)-[:HQ_IN]-\u003E(us)\r\nMERGE (googl)-[:HQ_IN]-\u003E(us)\r\nMERGE (gcp)-[:HQ_IN]-\u003E(us)\r\nMERGE (meta)-[:HQ_IN]-\u003E(us)\r\nMERGE (aapl)-[:HQ_IN]-\u003E(us)\r\nMERGE (tsla)-[:HQ_IN]-\u003E(us)\r\nMERGE (x)-[:HQ_IN]-\u003E(us)\r\nMERGE (xai)-[:HQ_IN]-\u003E(us)\r\nMERGE (anthropic)-[:HQ_IN]-\u003E(us)\r\nMERGE (pplx)-[:HQ_IN]-\u003E(us)\r\nMERGE (cohere)-[:HQ_IN]-\u003E(us)\r\nMERGE (mistral)-[:HQ_IN]-\u003E(us)\r\nMERGE (mu)-[:HQ_IN]-\u003E(us)\r\nMERGE (avgo)-[:HQ_IN]-\u003E(us)\r\nMERGE (qcom)-[:HQ_IN]-\u003E(us)\r\nMERGE (arm)-[:HQ_IN]-\u003E(us)\r\nMERGE (orcl)-[:HQ_IN]-\u003E(us)\r\nMERGE (smsn)-[:HQ_IN]-\u003E(kr)\r\nMERGE (skh)-[:HQ_IN]-\u003E(kr)\r\n\r\nMERGE (msft)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (openai)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (nvda)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (tsmc)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (asml)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (amd)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (intc)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (github)-[:IN_SECTOR]-\u003E(tools)\r\n\r\nMERGE (amzn)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (aws)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (googl)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (gcp)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (meta)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (aapl)-[:IN_SECTOR]-\u003E(hardware)\r\nMERGE (tsla)-[:IN_SECTOR]-\u003E(hardware)\r\nMERGE (x)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (xai)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (anthropic)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (pplx)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (cohere)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (mistral)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (mu)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (avgo)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (qcom)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (arm)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (orcl)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (smsn)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (skh)-[:IN_SECTOR]-\u003E(semis)\r\n\r\nMERGE (msft)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (nvda)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (tsmc)-[:OPERATES_IN]-\u003E(cn)\r\n\r\nMERGE (msft)-[:OWNS {pct:100.0}]-\u003E(github)\r\n\r\nMERGE (amzn)-[:OWNS {pct:100.0}]-\u003E(aws)\r\nMERGE (googl)-[:OWNS {pct:100.0}]-\u003E(gcp)\r\n\r\nMERGE (msft)-[:PARTNERS_WITH {strength:0.85}]-\u003E(openai)\r\nMERGE (msft)-[:SUPPLIES_TO {criticality:0.75}]-\u003E(openai)\r\n\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.8}]-\u003E(msft)\r\nMERGE (amd)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(msft)\r\n\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.75}]-\u003E(aws)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(gcp)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.55}]-\u003E(meta)\r\nMERGE (amd)-[:SUPPLIES_TO {criticality:0.25}]-\u003E(aws)\r\nMERGE (intc)-[:SUPPLIES_TO {criticality:0.2}]-\u003E(aws)\r\nMERGE (avgo)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(aws)\r\nMERGE (avgo)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(gcp)\r\n\r\nMERGE (aws)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(anthropic)\r\nMERGE (aws)-[:PARTNERS_WITH {strength:0.6}]-\u003E(anthropic)\r\nMERGE (gcp)-[:SUPPLIES_TO {criticality:0.5}]-\u003E(cohere)\r\nMERGE (gcp)-[:PARTNERS_WITH {strength:0.45}]-\u003E(cohere)\r\nMERGE (aws)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(pplx)\r\nMERGE (msft)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(pplx)\r\n\r\nMERGE (xai)-[:PARTNERS_WITH {strength:0.45}]-\u003E(x)\r\nMERGE (xai)-[:PARTNERS_WITH {strength:0.35}]-\u003E(tsla)\r\n\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.9}]-\u003E(nvda)\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.6}]-\u003E(amd)\r\nMERGE (asml)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(tsmc)\r\n\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(intc)\r\nMERGE (asml)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(intc)\r\nMERGE (skh)-[:SUPPLIES_TO {criticality:0.5}]-\u003E(nvda)\r\nMERGE (mu)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(nvda)\r\nMERGE (smsn)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(nvda)\r\nMERGE (arm)-[:SUPPLIES_TO {criticality:0.2}]-\u003E(aapl)\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(aapl)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(tsla)\r\n\r\n\r\nMERGE (n1:NewsEvent {id:\u0027N-2025-12-18-001\u0027})\r\n  SET n1.source=\u0027WSJ Markets RSS\u0027,\r\n      n1.sourceFeed=\u0027https://feeds.content.dowjones.io/public/rss/RSSMarketsMain\u0027,\r\n      n1.url=\u0027https://www.wsj.com/tech/microns-blowout-results-are-bad-news-for-anyone-buying-a-new-phone-or-pc-next-year-1b303c09?mod=rss_markets_main\u0027,\r\n      n1.headline=\u0027Micron\u2019s Blowout Results Are Bad News for Anyone Buying a New Phone or PC Next Year\u0027,\r\n      n1.summary=\u0027The article frames strong demand for AI-driven components as a driver of memory tightness, which can ripple into broader hardware pricing and availability.\u0027,\r\n      n1.sentiment=-0.4,\r\n      n1.ts=datetime(\u00272025-12-18T10:30:00Z\u0027)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.65}]-\u003E(mu)\r\n\r\nMERGE (n2:NewsEvent {id:\u0027N-2025-12-18-002\u0027})\r\n  SET n2.source=\u0027Bloomberg Markets RSS\u0027,\r\n      n2.sourceFeed=\u0027https://feeds.bloomberg.com/markets/news.rss\u0027,\r\n      n2.url=\u0027https://www.bloomberg.com/news/articles/2025-12-19/inside-disney-and-openai-s-billion-dollar-deal-big-take-podcast\u0027,\r\n      n2.headline=\u0027Inside Disney and OpenAI\u2019s Billion Dollar Deal\u0027,\r\n      n2.summary=\u0027A large enterprise content/AI deal can improve revenue visibility for a model provider but also increases scrutiny around IP, compliance, and long-term costs.\u0027,\r\n      n2.sentiment=0.25,\r\n      n2.ts=datetime(\u00272025-12-19T22:53:12Z\u0027)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.45}]-\u003E(openai)\r\n\r\nMERGE (n3:NewsEvent {id:\u0027N-2025-12-18-003\u0027})\r\n  SET n3.source=\u0027Bloomberg Markets RSS\u0027,\r\n      n3.sourceFeed=\u0027https://feeds.bloomberg.com/markets/news.rss\u0027,\r\n      n3.url=\u0027https://www.bloomberg.com/news/articles/2025-12-20/china-s-rare-earth-magnet-exports-to-us-decline-in-november\u0027,\r\n      n3.headline=\u0027China\u2019s Rare-Earth Magnet Exports to US Decline in November\u0027,\r\n      n3.summary=\u0027Lower availability of key industrial inputs can raise costs and extend lead times for hardware-heavy companies, indirectly impacting compute build-outs.\u0027,\r\n      n3.sentiment=-0.35,\r\n      n3.ts=datetime(\u00272025-12-20T03:48:13Z\u0027)\r\nMERGE (n3)-[:AFFECTS {directImpact:0.5}]-\u003E(tsla)","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:55.4431123+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[a:AFFECTS]-\u003E(c0:Company)\r\nWITH n, c0, coalesce(a.directImpact, 1.0) AS directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\n// For this demo, ignore paths that are only ownership edges (they tend to be less intuitive\r\n// for explaining AI supply-chain/partner propagation). Still include the 0-hop case.\r\nWHERE size(rels) = 0 OR any(rel IN rels WHERE type(rel) \u003C\u003E \u0027OWNS\u0027)\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n\tsize(rels) AS hops,\r\n\treduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight\r\n\t* (case type(rel)\r\n\t\twhen \u0027SUPPLIES_TO\u0027 then 1.0\r\n\t\twhen \u0027PARTNERS_WITH\u0027 then 0.85\r\n\t\twhen \u0027OWNS\u0027 then 0.5\r\n\t\telse 0.75\r\n\t  end)\r\n\t* coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n\t) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n\t// plus a small hop-distance decay to keep results intuitive.\r\n\t(case when sentiment \u003C 0 then -sentiment else 0 end)\r\n\t* directImpact\r\n\t* pathWeight\r\n\t* (case hops when 0 then 1.0 else (0.85 ^ hops) end) AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-001"},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:11:55.7881877+00:00","Query":"\r\nMATCH (n) WITH count(n) AS nodes\r\nMATCH ()-[r]-\u003E() WITH nodes, count(r) AS rels\r\nRETURN nodes, rels\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:17.5194006+00:00","Query":"CREATE CONSTRAINT company_ticker IF NOT EXISTS FOR (c:Company) REQUIRE c.ticker IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:18.0857058+00:00","Query":"CREATE CONSTRAINT country_code IF NOT EXISTS FOR (c:Country) REQUIRE c.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:18.1480078+00:00","Query":"CREATE CONSTRAINT market_code IF NOT EXISTS FOR (m:Market) REQUIRE m.code IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:18.2013193+00:00","Query":"CREATE CONSTRAINT sector_name IF NOT EXISTS FOR (s:Sector) REQUIRE s.name IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:18.2537447+00:00","Query":"CREATE CONSTRAINT news_id IF NOT EXISTS FOR (n:NewsEvent) REQUIRE n.id IS UNIQUE","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:18.3143317+00:00","Query":"\r\nMATCH (c:Company {ticker: \u0027NVDA\u0027})\r\nRETURN count(c) AS cnt\r\n","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:19.0087107+00:00","Query":"MERGE (us:Country {code:\u0027US\u0027, name:\u0027United States\u0027})\r\nMERGE (tw:Country {code:\u0027TW\u0027, name:\u0027Taiwan\u0027})\r\nMERGE (nl:Country {code:\u0027NL\u0027, name:\u0027Netherlands\u0027})\r\nMERGE (kr:Country {code:\u0027KR\u0027, name:\u0027South Korea\u0027})\r\nMERGE (cn:Country {code:\u0027CN\u0027, name:\u0027China\u0027})\r\n\r\nMERGE (nasdaq:Market {code:\u0027NASDAQ\u0027, name:\u0027NASDAQ\u0027})\r\nMERGE (nyse:Market {code:\u0027NYSE\u0027, name:\u0027New York Stock Exchange\u0027})\r\n\r\nMERGE (cloud:Sector {name:\u0027Cloud\u0027})\r\nMERGE (ai:Sector {name:\u0027AI\u0027})\r\nMERGE (semis:Sector {name:\u0027Semiconductors\u0027})\r\nMERGE (tools:Sector {name:\u0027Developer Tools\u0027})\r\nMERGE (internet:Sector {name:\u0027Internet Platforms\u0027})\r\nMERGE (hardware:Sector {name:\u0027Hardware\u0027})\r\n\r\nMERGE (msft:Company {ticker:\u0027MSFT\u0027, name:\u0027Microsoft\u0027})\r\n  SET msft.riskProfile=\u0027cloud-platform\u0027\r\nMERGE (openai:Company {ticker:\u0027OPENAI\u0027, name:\u0027OpenAI\u0027})\r\n  SET openai.riskProfile=\u0027model-provider\u0027\r\nMERGE (nvda:Company {ticker:\u0027NVDA\u0027, name:\u0027NVIDIA\u0027})\r\n  SET nvda.riskProfile=\u0027compute-supply\u0027\r\nMERGE (tsmc:Company {ticker:\u0027TSMC\u0027, name:\u0027TSMC\u0027})\r\n  SET tsmc.riskProfile=\u0027foundry\u0027\r\nMERGE (asml:Company {ticker:\u0027ASML\u0027, name:\u0027ASML\u0027})\r\n  SET asml.riskProfile=\u0027fab-equipment\u0027\r\nMERGE (amd:Company {ticker:\u0027AMD\u0027, name:\u0027AMD\u0027})\r\n  SET amd.riskProfile=\u0027compute-competitor\u0027\r\nMERGE (intc:Company {ticker:\u0027INTC\u0027, name:\u0027Intel\u0027})\r\n  SET intc.riskProfile=\u0027compute-competitor\u0027\r\nMERGE (github:Company {ticker:\u0027GITHUB\u0027, name:\u0027GitHub\u0027})\r\n  SET github.riskProfile=\u0027developer-platform\u0027\r\n\r\nMERGE (amzn:Company {ticker:\u0027AMZN\u0027, name:\u0027Amazon\u0027})\r\n  SET amzn.riskProfile=\u0027cloud-platform\u0027\r\nMERGE (aws:Company {ticker:\u0027AWS\u0027, name:\u0027Amazon Web Services\u0027})\r\n  SET aws.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (googl:Company {ticker:\u0027GOOGL\u0027, name:\u0027Alphabet\u0027})\r\n  SET googl.riskProfile=\u0027internet-platform\u0027\r\nMERGE (gcp:Company {ticker:\u0027GCP\u0027, name:\u0027Google Cloud\u0027})\r\n  SET gcp.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (meta:Company {ticker:\u0027META\u0027, name:\u0027Meta\u0027})\r\n  SET meta.riskProfile=\u0027internet-platform\u0027\r\nMERGE (aapl:Company {ticker:\u0027AAPL\u0027, name:\u0027Apple\u0027})\r\n  SET aapl.riskProfile=\u0027device-platform\u0027\r\n\r\nMERGE (tsla:Company {ticker:\u0027TSLA\u0027, name:\u0027Tesla\u0027})\r\n  SET tsla.riskProfile=\u0027ai-enabled-hardware\u0027\r\nMERGE (x:Company {ticker:\u0027X\u0027, name:\u0027X\u0027})\r\n  SET x.riskProfile=\u0027internet-platform\u0027\r\nMERGE (xai:Company {ticker:\u0027XAI\u0027, name:\u0027xAI\u0027})\r\n  SET xai.riskProfile=\u0027model-provider\u0027\r\n\r\nMERGE (anthropic:Company {ticker:\u0027ANTHROPIC\u0027, name:\u0027Anthropic\u0027})\r\n  SET anthropic.riskProfile=\u0027model-provider\u0027\r\nMERGE (pplx:Company {ticker:\u0027PPLX\u0027, name:\u0027Perplexity\u0027})\r\n  SET pplx.riskProfile=\u0027ai-product\u0027\r\nMERGE (cohere:Company {ticker:\u0027COHERE\u0027, name:\u0027Cohere\u0027})\r\n  SET cohere.riskProfile=\u0027model-provider\u0027\r\nMERGE (mistral:Company {ticker:\u0027MISTRAL\u0027, name:\u0027Mistral AI\u0027})\r\n  SET mistral.riskProfile=\u0027model-provider\u0027\r\n\r\nMERGE (mu:Company {ticker:\u0027MU\u0027, name:\u0027Micron Technology\u0027})\r\n  SET mu.riskProfile=\u0027memory-supply\u0027\r\nMERGE (avgo:Company {ticker:\u0027AVGO\u0027, name:\u0027Broadcom\u0027})\r\n  SET avgo.riskProfile=\u0027networking-supply\u0027\r\nMERGE (qcom:Company {ticker:\u0027QCOM\u0027, name:\u0027Qualcomm\u0027})\r\n  SET qcom.riskProfile=\u0027edge-ai\u0027\r\nMERGE (arm:Company {ticker:\u0027ARM\u0027, name:\u0027Arm\u0027})\r\n  SET arm.riskProfile=\u0027cpu-ip\u0027\r\nMERGE (smsn:Company {ticker:\u0027SMSN\u0027, name:\u0027Samsung Electronics\u0027})\r\n  SET smsn.riskProfile=\u0027memory-supply\u0027\r\nMERGE (skh:Company {ticker:\u0027SKH\u0027, name:\u0027SK hynix\u0027})\r\n  SET skh.riskProfile=\u0027memory-supply\u0027\r\nMERGE (orcl:Company {ticker:\u0027ORCL\u0027, name:\u0027Oracle\u0027})\r\n  SET orcl.riskProfile=\u0027cloud-platform\u0027\r\n\r\nMERGE (msft)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (nvda)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (amd)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (intc)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (asml)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (tsmc)-[:LISTED_ON]-\u003E(nyse)\r\n\r\nMERGE (amzn)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (googl)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (meta)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (aapl)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (tsla)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (mu)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (avgo)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (qcom)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (arm)-[:LISTED_ON]-\u003E(nasdaq)\r\nMERGE (orcl)-[:LISTED_ON]-\u003E(nyse)\r\n\r\nMERGE (msft)-[:HQ_IN]-\u003E(us)\r\nMERGE (openai)-[:HQ_IN]-\u003E(us)\r\nMERGE (nvda)-[:HQ_IN]-\u003E(us)\r\nMERGE (amd)-[:HQ_IN]-\u003E(us)\r\nMERGE (intc)-[:HQ_IN]-\u003E(us)\r\nMERGE (github)-[:HQ_IN]-\u003E(us)\r\nMERGE (tsmc)-[:HQ_IN]-\u003E(tw)\r\nMERGE (asml)-[:HQ_IN]-\u003E(nl)\r\n\r\nMERGE (amzn)-[:HQ_IN]-\u003E(us)\r\nMERGE (aws)-[:HQ_IN]-\u003E(us)\r\nMERGE (googl)-[:HQ_IN]-\u003E(us)\r\nMERGE (gcp)-[:HQ_IN]-\u003E(us)\r\nMERGE (meta)-[:HQ_IN]-\u003E(us)\r\nMERGE (aapl)-[:HQ_IN]-\u003E(us)\r\nMERGE (tsla)-[:HQ_IN]-\u003E(us)\r\nMERGE (x)-[:HQ_IN]-\u003E(us)\r\nMERGE (xai)-[:HQ_IN]-\u003E(us)\r\nMERGE (anthropic)-[:HQ_IN]-\u003E(us)\r\nMERGE (pplx)-[:HQ_IN]-\u003E(us)\r\nMERGE (cohere)-[:HQ_IN]-\u003E(us)\r\nMERGE (mistral)-[:HQ_IN]-\u003E(us)\r\nMERGE (mu)-[:HQ_IN]-\u003E(us)\r\nMERGE (avgo)-[:HQ_IN]-\u003E(us)\r\nMERGE (qcom)-[:HQ_IN]-\u003E(us)\r\nMERGE (arm)-[:HQ_IN]-\u003E(us)\r\nMERGE (orcl)-[:HQ_IN]-\u003E(us)\r\nMERGE (smsn)-[:HQ_IN]-\u003E(kr)\r\nMERGE (skh)-[:HQ_IN]-\u003E(kr)\r\n\r\nMERGE (msft)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (openai)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (nvda)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (tsmc)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (asml)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (amd)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (intc)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (github)-[:IN_SECTOR]-\u003E(tools)\r\n\r\nMERGE (amzn)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (aws)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (googl)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (gcp)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (meta)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (aapl)-[:IN_SECTOR]-\u003E(hardware)\r\nMERGE (tsla)-[:IN_SECTOR]-\u003E(hardware)\r\nMERGE (x)-[:IN_SECTOR]-\u003E(internet)\r\nMERGE (xai)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (anthropic)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (pplx)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (cohere)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (mistral)-[:IN_SECTOR]-\u003E(ai)\r\nMERGE (mu)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (avgo)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (qcom)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (arm)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (orcl)-[:IN_SECTOR]-\u003E(cloud)\r\nMERGE (smsn)-[:IN_SECTOR]-\u003E(semis)\r\nMERGE (skh)-[:IN_SECTOR]-\u003E(semis)\r\n\r\nMERGE (msft)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (nvda)-[:OPERATES_IN]-\u003E(cn)\r\nMERGE (tsmc)-[:OPERATES_IN]-\u003E(cn)\r\n\r\nMERGE (msft)-[:OWNS {pct:100.0}]-\u003E(github)\r\n\r\nMERGE (amzn)-[:OWNS {pct:100.0}]-\u003E(aws)\r\nMERGE (googl)-[:OWNS {pct:100.0}]-\u003E(gcp)\r\n\r\nMERGE (msft)-[:PARTNERS_WITH {strength:0.85}]-\u003E(openai)\r\nMERGE (msft)-[:SUPPLIES_TO {criticality:0.75}]-\u003E(openai)\r\n\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.8}]-\u003E(msft)\r\nMERGE (amd)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(msft)\r\n\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.75}]-\u003E(aws)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(gcp)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.55}]-\u003E(meta)\r\nMERGE (amd)-[:SUPPLIES_TO {criticality:0.25}]-\u003E(aws)\r\nMERGE (intc)-[:SUPPLIES_TO {criticality:0.2}]-\u003E(aws)\r\nMERGE (avgo)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(aws)\r\nMERGE (avgo)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(gcp)\r\n\r\nMERGE (aws)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(anthropic)\r\nMERGE (aws)-[:PARTNERS_WITH {strength:0.6}]-\u003E(anthropic)\r\nMERGE (gcp)-[:SUPPLIES_TO {criticality:0.5}]-\u003E(cohere)\r\nMERGE (gcp)-[:PARTNERS_WITH {strength:0.45}]-\u003E(cohere)\r\nMERGE (aws)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(pplx)\r\nMERGE (msft)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(pplx)\r\n\r\nMERGE (xai)-[:PARTNERS_WITH {strength:0.45}]-\u003E(x)\r\nMERGE (xai)-[:PARTNERS_WITH {strength:0.35}]-\u003E(tsla)\r\n\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.9}]-\u003E(nvda)\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.6}]-\u003E(amd)\r\nMERGE (asml)-[:SUPPLIES_TO {criticality:0.7}]-\u003E(tsmc)\r\n\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(intc)\r\nMERGE (asml)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(intc)\r\nMERGE (skh)-[:SUPPLIES_TO {criticality:0.5}]-\u003E(nvda)\r\nMERGE (mu)-[:SUPPLIES_TO {criticality:0.45}]-\u003E(nvda)\r\nMERGE (smsn)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(nvda)\r\nMERGE (arm)-[:SUPPLIES_TO {criticality:0.2}]-\u003E(aapl)\r\nMERGE (tsmc)-[:SUPPLIES_TO {criticality:0.4}]-\u003E(aapl)\r\nMERGE (nvda)-[:SUPPLIES_TO {criticality:0.35}]-\u003E(tsla)\r\n\r\n\r\nMERGE (n1:NewsEvent {id:\u0027N-2025-12-18-001\u0027})\r\n  SET n1.source=\u0027WSJ Markets RSS\u0027,\r\n      n1.sourceFeed=\u0027https://feeds.content.dowjones.io/public/rss/RSSMarketsMain\u0027,\r\n      n1.url=\u0027https://www.wsj.com/finance/stocks/ai-themed-stocks-take-more-hits-sending-nasdaq-lower?mod=rss_markets_main\u0027,\r\n      n1.headline=\u0027AI-Themed Stocks Take More Hits, Sending Nasdaq Lower\u0027,\r\n      n1.summary=\u0027A risk-off move in AI-linked equities can pressure both model builders and their compute supply chain, with second-order impacts on cloud spending and capex sentiment.\u0027,\r\n      n1.sentiment=-0.45,\r\n      n1.ts=datetime(\u00272025-12-17T21:57:00Z\u0027)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.6}]-\u003E(nvda)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.35}]-\u003E(tsla)\r\nMERGE (n1)-[:AFFECTS {directImpact:0.25}]-\u003E(msft)\r\nMERGE (n1)-[:ASSOCIATED_WITH]-\u003E(nasdaq)\r\n\r\nMERGE (n2:NewsEvent {id:\u0027N-2025-12-18-002\u0027})\r\n  SET n2.source=\u0027WSJ Markets RSS\u0027,\r\n      n2.sourceFeed=\u0027https://feeds.content.dowjones.io/public/rss/RSSMarketsMain\u0027,\r\n      n2.url=\u0027https://www.wsj.com/tech/microns-blowout-results-are-bad-news-for-anyone-buying-a-new-phone-or-pc-next-year-1b303c09?mod=rss_markets_main\u0027,\r\n      n2.headline=\u0027Micron\u2019s Blowout Results Are Bad News for Anyone Buying a New Phone or PC Next Year\u0027,\r\n      n2.summary=\u0027Strong AI-driven demand can tighten memory supply and raise costs, which may amplify compute constraints for GPU-heavy deployments and large training runs.\u0027,\r\n      n2.sentiment=-0.35,\r\n      n2.ts=datetime(\u00272025-12-18T10:30:00Z\u0027)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.55}]-\u003E(mu)\r\nMERGE (n2)-[:AFFECTS {directImpact:0.25}]-\u003E(nvda)\r\nMERGE (n2)-[:ASSOCIATED_WITH]-\u003E(nasdaq)\r\n\r\nMERGE (n3:NewsEvent {id:\u0027N-2025-12-18-003\u0027})\r\n  SET n3.source=\u0027Bloomberg Markets RSS\u0027,\r\n      n3.sourceFeed=\u0027https://feeds.bloomberg.com/markets/news.rss\u0027,\r\n      n3.url=\u0027https://www.bloomberg.com/news/articles/2025-12-19/inside-disney-and-openai-s-billion-dollar-deal-big-take-podcast\u0027,\r\n      n3.headline=\u0027Inside Disney and OpenAI\u2019s Billion Dollar Deal\u0027,\r\n      n3.summary=\u0027Large enterprise AI deals can expand distribution and revenue expectations for model providers, but also raise delivery, cost, and governance requirements.\u0027,\r\n      n3.sentiment=0.25,\r\n      n3.ts=datetime(\u00272025-12-19T22:53:12Z\u0027)\r\nMERGE (n3)-[:AFFECTS {directImpact:0.5}]-\u003E(openai)\r\nMERGE (n3)-[:AFFECTS {directImpact:0.2}]-\u003E(msft)\r\nMERGE (n3)-[:ASSOCIATED_WITH]-\u003E(nasdaq)\r\n\r\nMERGE (n4:NewsEvent {id:\u0027N-2025-12-18-004\u0027})\r\n  SET n4.source=\u0027Bloomberg Markets RSS\u0027,\r\n      n4.sourceFeed=\u0027https://feeds.bloomberg.com/markets/news.rss\u0027,\r\n      n4.url=\u0027https://www.bloomberg.com/news/articles/2025-12-20/china-s-rare-earth-magnet-exports-to-us-decline-in-november\u0027,\r\n      n4.headline=\u0027China\u2019s Rare-Earth Magnet Exports to US Decline in November\u0027,\r\n      n4.summary=\u0027A squeeze in key industrial inputs can raise costs and extend lead times for hardware-intensive supply chains; the impact often shows up indirectly across dependent firms.\u0027,\r\n      n4.sentiment=-0.25,\r\n      n4.ts=datetime(\u00272025-12-20T03:48:13Z\u0027)\r\nMERGE (n4)-[:AFFECTS {directImpact:0.45}]-\u003E(tsla)\r\nMERGE (n4)-[:AFFECTS {directImpact:0.15}]-\u003E(nvda)\r\nMERGE (n4)-[:ASSOCIATED_WITH]-\u003E(nasdaq)\r\n\r\nMERGE (n5:NewsEvent {id:\u0027N-2025-12-18-005\u0027})\r\n  SET n5.source=\u0027Demo (synthetic)\u0027,\r\n      n5.sourceFeed=\u0027(none)\u0027,\r\n      n5.url=\u0027(none)\u0027,\r\n      n5.headline=\u0027Proposed policy restrictions create uncertainty for advanced AI chip supply\u0027,\r\n      n5.summary=\u0027Regulatory uncertainty can constrain near-term availability of advanced accelerators and raise compliance costs, with knock-on effects across cloud providers and model builders.\u0027,\r\n      n5.sentiment=-0.55,\r\n      n5.ts=datetime(\u00272025-12-20T09:00:00Z\u0027)\r\nMERGE (n5)-[:AFFECTS {directImpact:0.7}]-\u003E(nvda)\r\nMERGE (n5)-[:AFFECTS {directImpact:0.4}]-\u003E(tsmc)\r\nMERGE (n5)-[:AFFECTS {directImpact:0.25}]-\u003E(asml)\r\nMERGE (n5)-[:ASSOCIATED_WITH]-\u003E(nasdaq)","Parameters":{},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:23.4416904+00:00","Query":"\r\nMATCH (n:NewsEvent {id: $newsId})-[a:AFFECTS]-\u003E(c0:Company)\r\nWITH n, c0, coalesce(a.directImpact, 1.0) AS directImpact, coalesce(n.sentiment, 0.0) AS sentiment\r\n// Walk 0..2 hops from the directly affected company through ownership/partnership/supply links.\r\nMATCH p=(c0)-[r:OWNS|PARTNERS_WITH|SUPPLIES_TO*0..2]-(c:Company)\r\nWITH c0, c, directImpact, sentiment, relationships(p) AS rels\r\n// For this demo, ignore paths that are only ownership edges (they tend to be less intuitive\r\n// for explaining AI supply-chain/partner propagation). Still include the 0-hop case.\r\nWHERE size(rels) = 0 OR any(rel IN rels WHERE type(rel) \u003C\u003E \u0027OWNS\u0027)\r\nWITH\r\n  c0,\r\n  c,\r\n  directImpact,\r\n  sentiment,\r\n\tsize(rels) AS hops,\r\n\treduce(pathWeight = 1.0, rel IN rels |\r\n\tpathWeight\r\n\t* (case type(rel)\r\n\t\twhen \u0027SUPPLIES_TO\u0027 then 1.0\r\n\t\twhen \u0027PARTNERS_WITH\u0027 then 0.85\r\n\t\twhen \u0027OWNS\u0027 then 0.5\r\n\t\telse 0.75\r\n\t  end)\r\n\t* coalesce(\r\n\t  rel.pct / 100.0,\r\n\t  rel.strength,\r\n\t  rel.criticality,\r\n\t  0.5\r\n\t)\r\n\t) AS pathWeight\r\nWITH\r\n  c0,\r\n  c,\r\n  // A simple risk score: (negative sentiment only) * directImpact * pathWeight\r\n\t// plus a small hop-distance decay to keep results intuitive.\r\n\t(case when sentiment \u003C 0 then -sentiment else 0 end)\r\n\t* directImpact\r\n\t* pathWeight\r\n\t* (case hops when 0 then 1.0 else (0.85 ^ hops) end) AS risk\r\nRETURN\r\n  c0.ticker AS sourceTicker,\r\n  c.ticker AS ticker,\r\n  c.name AS name,\r\n  round(sum(risk) * 1000) / 1000.0 AS riskScore\r\nORDER BY riskScore DESC, ticker ASC\r\nLIMIT 20\r\n","Parameters":{"newsId":"N-2025-12-18-005"},"Status":"start","Error":null}
{"Timestamp":"2025-12-20T11:17:23.8051498+00:00","Query":"\r\nMATCH (n) WITH count(n) AS nodes\r\nMATCH ()-[r]-\u003E() WITH nodes, count(r) AS rels\r\nRETURN nodes, rels\r\n","Parameters":{},"Status":"start","Error":null}
